{"links": {"self": {"href": "data/repositories/osrf/haptix_api/pullrequests/5/comments/5098217.json"}, "html": {"href": "#!/osrf/haptix_api/pull-requests/5/_/diff#comment-5098217"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 5, "links": {"self": {"href": "data/repositories/osrf/haptix_api/pullrequests/5.json"}, "html": {"href": "#!/osrf/haptix_api/pull-requests/5"}}, "title": "Define MATLAB API"}, "content": {"raw": "And here are corresponding MATLAB structures.  I think the only possible mismatch is how we orient vectors -- row or column.  I suggest we allow both.  Normally MATLAB functions impose a restriction only when they expect matrix arguments.\n\nI just noticed the funny printout of the nsec field.  In C it prints properly, but something happens in MATLAB when using doubles...\n\n\n```\n#!text\n\ncmd = \n\n                ref_pos: [12x1 double]\n            ref_vel_max: [12x1 double]\n               gain_pos: [12x1 double]\n               gain_vel: [12x1 double]\n        ref_pos_enabled: 1\n    ref_vel_max_enabled: 1\n       gain_pos_enabled: 1\n       gain_vel_enabled: 1\n\n\nsens = \n\n         time_stamp: [1x1 struct]\n          motor_pos: [12x1 double]\n          motor_vel: [12x1 double]\n       motor_torque: [12x1 double]\n          joint_pos: [21x1 double]\n          joint_vel: [21x1 double]\n            contact: [19x1 double]\n     imu_linear_acc: [5x3 double]\n    imu_angular_vel: [5x3 double]\n    imu_orientation: [5x4 double]\n\n\nsens.time_stamp\n\n     sec: 899\n    nsec: 284999999\n\n```\n", "markup": "markdown", "html": "<p>And here are corresponding MATLAB structures.  I think the only possible mismatch is how we orient vectors -- row or column.  I suggest we allow both.  Normally MATLAB functions impose a restriction only when they expect matrix arguments.</p>\n<p>I just noticed the funny printout of the nsec field.  In C it prints properly, but something happens in MATLAB when using doubles...</p>\n<div class=\"codehilite language-text\"><pre><span></span>cmd = \n\n                ref_pos: [12x1 double]\n            ref_vel_max: [12x1 double]\n               gain_pos: [12x1 double]\n               gain_vel: [12x1 double]\n        ref_pos_enabled: 1\n    ref_vel_max_enabled: 1\n       gain_pos_enabled: 1\n       gain_vel_enabled: 1\n\n\nsens = \n\n         time_stamp: [1x1 struct]\n          motor_pos: [12x1 double]\n          motor_vel: [12x1 double]\n       motor_torque: [12x1 double]\n          joint_pos: [21x1 double]\n          joint_vel: [21x1 double]\n            contact: [19x1 double]\n     imu_linear_acc: [5x3 double]\n    imu_angular_vel: [5x3 double]\n    imu_orientation: [5x4 double]\n\n\nsens.time_stamp\n\n     sec: 899\n    nsec: 284999999\n</pre></div>", "type": "rendered"}, "created_on": "2015-02-11T22:57:25.739561+00:00", "user": {"display_name": "Emo Todorov", "uuid": "{c84af488-b11e-458d-9817-1aeafde381d2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc84af488-b11e-458d-9817-1aeafde381d2%7D"}, "html": {"href": "https://bitbucket.org/%7Bc84af488-b11e-458d-9817-1aeafde381d2%7D/"}, "avatar": {"href": "https://bitbucket.org/account/emotodorov/avatar/"}}, "nickname": "emotodorov", "type": "user", "account_id": null}, "updated_on": "2015-02-11T22:59:08.892495+00:00", "type": "pullrequest_comment", "id": 5098217}