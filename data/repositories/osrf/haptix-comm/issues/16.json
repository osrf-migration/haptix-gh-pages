{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/haptix-comm.json"}, "html": {"href": "#!/osrf/haptix-comm"}, "avatar": {"href": "data/bytebucket.org/ravatar/{5eb6cf8b-807e-4ab4-8271-df5a5d1a034b}ts=c"}}, "type": "repository", "name": "haptix-comm", "full_name": "osrf/haptix-comm", "uuid": "{5eb6cf8b-807e-4ab4-8271-df5a5d1a034b}"}, "links": {"attachments": {"href": "data/repositories/osrf/haptix-comm/issues/16/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/haptix-comm/issues/16.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/haptix-comm/issues/16/watch"}, "comments": {"href": "data/repositories/osrf/haptix-comm/issues/16/comments_page=1.json"}, "html": {"href": "#!/osrf/haptix-comm/issues/16/quaternion-example-code-in-matlab-is-wrong"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/haptix-comm/issues/16/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Quaternion example code in matlab is wrong", "component": null, "votes": 0, "watches": 4, "content": {"raw": "Our example for manipulating quaternions in matlab (see [matlab/hxs_example.m line 27](#!/osrf/haptix-comm/src/aeda9adbfcf802e68e9afc784126eea59c66ecf5/matlab/hxs_example.m?at=default#cl-27)) looks like the following:\r\n\r\n~~~\r\nnew_tx.orient(1) += pi/4;\r\n~~~\r\n\r\nWhen I see `pi/4` I think, \"Oh this is some kind of angle in radians,\" but this is actually a quaternion that needs to stay normalized, and this is not a recommended operation for modifying components of a quaternion.\r\n\r\nIdeally one would use helper functions for working with quaternions. Matlab provides some through the [Aerospace toolbox](http://www.mathworks.com/help/aerotbx/axes-transformations.html), while Octave has an [external package named quaternion](http://octave.sourceforge.net/quaternion/overview.html) with a different API than Matlab.", "markup": "markdown", "html": "<p>Our example for manipulating quaternions in matlab (see <a data-is-external-link=\"true\" href=\"#!/osrf/haptix-comm/src/aeda9adbfcf802e68e9afc784126eea59c66ecf5/matlab/hxs_example.m?at=default#cl-27\" rel=\"nofollow\">matlab/hxs_example.m line 27</a>) looks like the following:</p>\n<div class=\"codehilite\"><pre><span></span>new_tx.orient(1) += pi/4;\n</pre></div>\n\n\n<p>When I see <code>pi/4</code> I think, \"Oh this is some kind of angle in radians,\" but this is actually a quaternion that needs to stay normalized, and this is not a recommended operation for modifying components of a quaternion.</p>\n<p>Ideally one would use helper functions for working with quaternions. Matlab provides some through the <a data-is-external-link=\"true\" href=\"http://www.mathworks.com/help/aerotbx/axes-transformations.html\" rel=\"nofollow\">Aerospace toolbox</a>, while Octave has an <a data-is-external-link=\"true\" href=\"http://octave.sourceforge.net/quaternion/overview.html\" rel=\"nofollow\">external package named quaternion</a> with a different API than Matlab.</p>", "type": "rendered"}, "assignee": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-05-13T23:18:05.980147+00:00", "milestone": null, "updated_on": "2015-09-03T23:24:08.927121+00:00", "type": "issue", "id": 16}