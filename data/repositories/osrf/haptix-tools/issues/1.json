{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/haptix-tools.json"}, "html": {"href": "#!/osrf/haptix-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{64458fe2-275f-452c-8055-1c7293538e54}ts=default"}}, "type": "repository", "name": "haptix-tools", "full_name": "osrf/haptix-tools", "uuid": "{64458fe2-275f-452c-8055-1c7293538e54}"}, "links": {"attachments": {"href": "data/repositories/osrf/haptix-tools/issues/1/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/haptix-tools/issues/1.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/haptix-tools/issues/1/watch"}, "comments": {"href": "data/repositories/osrf/haptix-tools/issues/1/comments_page=1.json"}, "html": {"href": "#!/osrf/haptix-tools/issues/1/shortcut-scripts-differ-slightly-from-old"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/haptix-tools/issues/1/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Shortcut scripts differ slightly from old versions in handsim", "component": null, "votes": 0, "watches": 2, "content": {"raw": "This may be intentional; I just wanted to check.\r\n\r\nStart script uses `--verbose` and doesn't pass args `$@`:\r\n~~~\r\ndiff -ur handsim/scripts/start_haptix.sh haptix-tools/shortcuts/haptixStart\r\n--- handsim/scripts/start_haptix.sh\t2015-02-18 21:50:34.000000000 -0800\r\n+++ haptix-tools/shortcuts/haptixStart\t2015-02-18 21:50:04.000000000 -0800\r\n@@ -15,6 +15,6 @@\r\n ## limitations under the License.\r\n ##\r\n ## Author: Open Source Robotics Foundation.\r\n-## Description: Start Gazebo with the HAPTIX environment.\r\n+## Description: Start gazebo with the environment for the HAPTIX project.\r\n \r\n-gazebo worlds/arat.world $@\r\n+gazebo --verbose worlds/arat.world\r\n~~~\r\n\r\nSupport script traps `TERM` and calls an extra `kill -9 $PID`:\r\n~~~\r\ndiff -ru handsim/scripts/virtualOSRF.sh haptix-tools/shortcuts/haptixSupport \r\n--- handsim/scripts/virtualOSRF.sh\t2015-02-18 21:50:34.000000000 -0800\r\n+++ haptix-tools/shortcuts/haptixSupport\t2015-02-18 21:50:04.000000000 -0800\r\n@@ -18,11 +18,12 @@\r\n ## Description: Activate the remote control of this computer.\r\n \r\n # Trap ctrl-c and call ctrl_c()\r\n-trap ctrl_c INT\r\n+trap ctrl_c INT TERM\r\n \r\n # Callback executed when CTRL-C is captured.\r\n ctrl_c ()\r\n {\r\n+  echo Killing tunnel\r\n   kill -9 $PID\r\n }\r\n \r\n@@ -38,3 +39,4 @@\r\n sleep 1\r\n \r\n x11vnc -connect localhost:5515\r\n+kill -9 $PID\r\n~~~", "markup": "markdown", "html": "<p>This may be intentional; I just wanted to check.</p>\n<p>Start script uses <code>--verbose</code> and doesn't pass args <code>$@</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -ur handsim/scripts/start_haptix.sh haptix-tools/shortcuts/haptixStart</span>\n<span class=\"gd\">--- handsim/scripts/start_haptix.sh 2015-02-18 21:50:34.000000000 -0800</span>\n<span class=\"gi\">+++ haptix-tools/shortcuts/haptixStart  2015-02-18 21:50:04.000000000 -0800</span>\n<span class=\"gu\">@@ -15,6 +15,6 @@</span>\n ## limitations under the License.\n ##\n ## Author: Open Source Robotics Foundation.\n<span class=\"gd\">-## Description: Start Gazebo with the HAPTIX environment.</span>\n<span class=\"gi\">+## Description: Start gazebo with the environment for the HAPTIX project.</span>\n\n<span class=\"gd\">-gazebo worlds/arat.world $@</span>\n<span class=\"gi\">+gazebo --verbose worlds/arat.world</span>\n</pre></div>\n\n\n<p>Support script traps <code>TERM</code> and calls an extra <code>kill -9 $PID</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -ru handsim/scripts/virtualOSRF.sh haptix-tools/shortcuts/haptixSupport </span>\n<span class=\"gd\">--- handsim/scripts/virtualOSRF.sh  2015-02-18 21:50:34.000000000 -0800</span>\n<span class=\"gi\">+++ haptix-tools/shortcuts/haptixSupport    2015-02-18 21:50:04.000000000 -0800</span>\n<span class=\"gu\">@@ -18,11 +18,12 @@</span>\n ## Description: Activate the remote control of this computer.\n\n # Trap ctrl-c and call ctrl_c()\n<span class=\"gd\">-trap ctrl_c INT</span>\n<span class=\"gi\">+trap ctrl_c INT TERM</span>\n\n # Callback executed when CTRL-C is captured.\n ctrl_c ()\n {\n<span class=\"gi\">+  echo Killing tunnel</span>\n   kill -9 $PID\n }\n\n<span class=\"gu\">@@ -38,3 +39,4 @@</span>\n sleep 1\n\n x11vnc -connect localhost:5515\n<span class=\"gi\">+kill -9 $PID</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-02-19T05:59:14.839042+00:00", "milestone": null, "updated_on": "2015-02-20T05:29:02.380507+00:00", "type": "issue", "id": 1}